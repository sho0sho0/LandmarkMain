{% extends "landmark/base.html" %}
{% block head %}
{% load static %}
<link rel="stylesheet" href="{% static 'landmark/css/my_profile.css' %}">
{% endblock %}
{% block content %}
<div class="account-container">
    <div class="header">
        <div class="user-profile">
            <!-- Display the user's profile image -->
            {% if user_profile1 and user_profile1.image %}
            <img src="{{ user_profile.image.url }}" alt="User Avatar" class="pf-avatar">
            
            {% else %}
            <img src="{% static 'landmark/images/user1.png' %}" alt="Default Profile Image" class="pf-avatar">
            {% endif %}
            <div class="user-info">
                <!-- Display the user's full name and username -->
                <h2>{{ user_profile.full_name }}</h2>
                <p>{{ user_profile.user.username }}</p>
            </div>
            <div class="buttons">
                <!-- Button to change profile picture -->
                <button class="change-picture" onclick="document.getElementById('profile-image-input').click();">
                    Change Picture
                </button>
                <!-- Button to logout -->
                <form method="POST" action="{% url 'logout' %}">
                    {% csrf_token %}
                    <button type="submit" class="logout">
                        <svg width="118" height="36" viewBox="0 0 118 36" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M10.3828 12.82C10.7445 8.62003 12.9028 6.90503 17.6278 6.90503H17.7795C22.9945 6.90503 25.0828 8.99336 25.0828 14.2084V21.815C25.0828 27.03 22.9945 29.1184 17.7795 29.1184H17.6278C12.9378 29.1184 10.7795 27.4267 10.3945 23.2967"
                                stroke="#B70505" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M17.4993 18H4.22266" stroke="#B70505" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M6.8263 14.0918L2.91797 18.0001L6.8263 21.9085" stroke="#B70505" stroke-width="1.5"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path
                                d="M40.3445 24.224H46.2005V26H38.1605V9.272H40.3445V24.224ZM54.2559 26.216C53.0239 26.216 51.9039 25.936 50.8959 25.376C49.9039 24.816 49.1199 24.024 48.5439 23C47.9839 21.96 47.7039 20.76 47.7039 19.4C47.7039 18.056 47.9919 16.872 48.5679 15.848C49.1599 14.808 49.9599 14.016 50.9679 13.472C51.9759 12.912 53.1039 12.632 54.3519 12.632C55.5999 12.632 56.7279 12.912 57.7359 13.472C58.7439 14.016 59.5359 14.8 60.1119 15.824C60.7039 16.848 60.9999 18.04 60.9999 19.4C60.9999 20.76 60.6959 21.96 60.0879 23C59.4959 24.024 58.6879 24.816 57.6639 25.376C56.6399 25.936 55.5039 26.216 54.2559 26.216ZM54.2559 24.296C55.0399 24.296 55.7759 24.112 56.4639 23.744C57.1519 23.376 57.7039 22.824 58.1199 22.088C58.5519 21.352 58.7679 20.456 58.7679 19.4C58.7679 18.344 58.5599 17.448 58.1439 16.712C57.7279 15.976 57.1839 15.432 56.5119 15.08C55.8399 14.712 55.1119 14.528 54.3279 14.528C53.5279 14.528 52.7919 14.712 52.1199 15.08C51.4639 15.432 50.9359 15.976 50.5359 16.712C50.1359 17.448 49.9359 18.344 49.9359 19.4C49.9359 20.472 50.1279 21.376 50.5119 22.112C50.9119 22.848 51.4399 23.4 52.0959 23.768C52.7519 24.12 53.4719 24.296 54.2559 24.296ZM69.2954 12.632C70.4314 12.632 71.4234 12.88 72.2714 13.376C73.1354 13.872 73.7754 14.496 74.1914 15.248V12.848H76.3994V26.288C76.3994 27.488 76.1434 28.552 75.6314 29.48C75.1194 30.424 74.3834 31.16 73.4234 31.688C72.4794 32.216 71.3754 32.48 70.1114 32.48C68.3834 32.48 66.9434 32.072 65.7914 31.256C64.6394 30.44 63.9594 29.328 63.7514 27.92H65.9114C66.1514 28.72 66.6474 29.36 67.3994 29.84C68.1514 30.336 69.0554 30.584 70.1114 30.584C71.3114 30.584 72.2874 30.208 73.0394 29.456C73.8074 28.704 74.1914 27.648 74.1914 26.288V23.528C73.7594 24.296 73.1194 24.936 72.2714 25.448C71.4234 25.96 70.4314 26.216 69.2954 26.216C68.1274 26.216 67.0634 25.928 66.1034 25.352C65.1594 24.776 64.4154 23.968 63.8714 22.928C63.3274 21.888 63.0554 20.704 63.0554 19.376C63.0554 18.032 63.3274 16.856 63.8714 15.848C64.4154 14.824 65.1594 14.032 66.1034 13.472C67.0634 12.912 68.1274 12.632 69.2954 12.632ZM74.1914 19.4C74.1914 18.408 73.9914 17.544 73.5914 16.808C73.1914 16.072 72.6474 15.512 71.9594 15.128C71.2874 14.728 70.5434 14.528 69.7274 14.528C68.9114 14.528 68.1674 14.72 67.4954 15.104C66.8234 15.488 66.2874 16.048 65.8874 16.784C65.4874 17.52 65.2874 18.384 65.2874 19.376C65.2874 20.384 65.4874 21.264 65.8874 22.016C66.2874 22.752 66.8234 23.32 67.4954 23.72C68.1674 24.104 68.9114 24.296 69.7274 24.296C70.5434 24.296 71.2874 24.104 71.9594 23.72C72.6474 23.32 73.1914 22.752 73.5914 22.016C73.9914 21.264 74.1914 20.392 74.1914 19.4ZM85.8262 26.216C84.5942 26.216 83.4742 25.936 82.4662 25.376C81.4742 24.816 80.6902 24.024 80.1142 23C79.5542 21.96 79.2742 20.76 79.2742 19.4C79.2742 18.056 79.5622 16.872 80.1382 15.848C80.7302 14.808 81.5302 14.016 82.5382 13.472C83.5462 12.912 84.6742 12.632 85.9222 12.632C87.1702 12.632 88.2982 12.912 89.3062 13.472C90.3142 14.016 91.1062 14.8 91.6822 15.824C92.2742 16.848 92.5702 18.04 92.5702 19.4C92.5702 20.76 92.2662 21.96 91.6582 23C91.0662 24.024 90.2582 24.816 89.2342 25.376C88.2102 25.936 87.0742 26.216 85.8262 26.216ZM85.8262 24.296C86.6102 24.296 87.3462 24.112 88.0342 23.744C88.7222 23.376 89.2742 22.824 89.6902 22.088C90.1222 21.352 90.3382 20.456 90.3382 19.4C90.3382 18.344 90.1302 17.448 89.7142 16.712C89.2982 15.976 88.7542 15.432 88.0822 15.08C87.4102 14.712 86.6822 14.528 85.8982 14.528C85.0982 14.528 84.3622 14.712 83.6902 15.08C83.0342 15.432 82.5062 15.976 82.1062 16.712C81.7062 17.448 81.5062 18.344 81.5062 19.4C81.5062 20.472 81.6982 21.376 82.0822 22.112C82.4822 22.848 83.0102 23.4 83.6662 23.768C84.3222 24.12 85.0422 24.296 85.8262 24.296ZM107.106 12.848V26H104.922V24.056C104.506 24.728 103.922 25.256 103.17 25.64C102.434 26.008 101.618 26.192 100.722 26.192C99.6978 26.192 98.7778 25.984 97.9618 25.568C97.1458 25.136 96.4978 24.496 96.0178 23.648C95.5538 22.8 95.3218 21.768 95.3218 20.552V12.848H97.4818V20.264C97.4818 21.56 97.8098 22.56 98.4658 23.264C99.1218 23.952 100.018 24.296 101.154 24.296C102.322 24.296 103.242 23.936 103.914 23.216C104.586 22.496 104.922 21.448 104.922 20.072V12.848H107.106ZM113.457 14.648V22.4C113.457 23.04 113.593 23.496 113.865 23.768C114.137 24.024 114.609 24.152 115.281 24.152H116.889V26H114.921C113.705 26 112.793 25.72 112.185 25.16C111.577 24.6 111.273 23.68 111.273 22.4V14.648H109.569V12.848H111.273V9.536H113.457V12.848H116.889V14.648H113.457Z"
                                fill="#B70505" />

                        </svg>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Input to upload new image (hidden for now) -->
    <input type="file" id="profile-image-input" style="display: none;" onchange="uploadProfilePicture(event)">

    <div class="tabs">
        <button class="tab active" data-tab="personal-info">Personal Info</button>
        <button class="tab" data-tab="enroll-diploma">Enroll Diploma</button>
        <button class="tab" data-tab="wishlist">Wishlist</button>
    </div>
    <div class="pf-form-container">
        <form id="personal-info" class="tab-content active" method="POST">
            {% csrf_token %}

            <!-- First Row: Disable first name, last name, and username fields -->
            <div class="form-row">
                <div class="form-field">
                    <label for="first-name">First Name</label>
                    <input type="text" id="first-name" name="first-name" value="{{ user.first_name }}"
                        placeholder="The first name" disabled>
                </div>
                <div class="form-field">
                    <label for="last-name">Last Name</label>
                    <input type="text" id="last-name" name="last-name" value="{{ user.last_name }}"
                        placeholder="The last name" disabled>
                </div>
            </div>

            <!-- Second Row: Allow editing username (if necessary) and email -->
            <div class="sec-form-row">
                <div class="sec-form-field">
                    <label for="username">Username</label>
                    <input type="text" id="username" name="username" value="{{ user.username }}"
                        placeholder="Enter username" disabled>
                </div>
                <div class="sec-form-field">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" value="{{ user.email }}"
                        placeholder="Enter email address">
                </div>
            </div>

            <!-- Third Row: Phone number and password input -->
            <div class="third-form-row">
                <div class="third-form-field">
                    <label for="phone">Phone Number</label>
                    <input type="text" id="phone" name="phone" value="{{ profile.phone_number }}"
                        placeholder="Enter phone number">
                </div>
                <div class="third-form-field">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" placeholder="Enter new password">
                </div>
            </div>

            <button type="submit" class="save-changes">Save Changes</button>
        </form>
    </div>

    <div id="enroll-diploma" class="tab-content">
        <h3>Selected Diplomas</h3>
        {% if selected_diplomas %}

        {% for diploma in selected_diplomas %}
        <div class="diploma-enroll">
            <div class="diploma-review">
                <div class="pf-s-title">
                    <h3>{{diploma.diploma.name}}</h3>
                    <p>{{diploma.diploma.description}}</p>
                </div>

                <div class="diploma-info">
                    <div class="pf-s-rate">
                        <svg width="36" height="35" viewBox="0 0 36 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M17.5245 0.463525C17.6741 0.00286961 18.3259 0.00287008 18.4755 0.463525L22.378 12.4742C22.445 12.6802 22.6369 12.8197 22.8536 12.8197H35.4823C35.9667 12.8197 36.168 13.4395 35.7762 13.7242L25.5593 21.1472C25.3841 21.2745 25.3107 21.5002 25.3777 21.7062L29.2802 33.7168C29.4299 34.1775 28.9026 34.5605 28.5108 34.2758L18.2939 26.8528C18.1186 26.7255 17.8814 26.7255 17.7061 26.8528L7.48924 34.2758C7.09739 34.5605 6.57015 34.1775 6.71982 33.7168L10.6223 21.7062C10.6893 21.5002 10.6159 21.2745 10.4407 21.1472L0.22382 13.7242C-0.168037 13.4395 0.0333505 12.8197 0.517712 12.8197H13.1464C13.3631 12.8197 13.555 12.6802 13.622 12.4742L17.5245 0.463525Z"
                                fill="#FFCC00" />
                        </svg>
                        <p>
                            {{ diploma.diploma.average_rating|floatformat:1 }}
                            <span>({{ diploma.diploma.ratings_count }})</span>
                        </p>
                    </div>
                    <div class="modules">
                        <svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M24.8393 10.0333C24.8927 10.8466 24.826 11.7666 24.666 12.7933L23.6927 19.0466C22.866 24.2599 20.4527 26.0199 15.2393 25.2066L8.986 24.2199C7.186 23.9399 5.79934 23.4599 4.786 22.7399C2.85267 21.3933 2.29267 19.1799 2.826 15.7666L3.81267 9.51328C4.63934 4.29994 7.05267 2.53994 12.266 3.35328L18.5193 4.33994C22.706 4.99328 24.666 6.69994 24.8393 10.0333Z"
                                stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            <path
                                d="M27.3338 18.4601L25.3338 24.4734C23.6671 29.4868 21.0004 30.8201 15.9871 29.1534L9.97378 27.1534C6.94711 26.1534 5.26711 24.7668 4.78711 22.7401C5.80044 23.4601 7.18711 23.9401 8.98711 24.2201L15.2404 25.2068C20.4538 26.0201 22.8671 24.2601 23.6938 19.0468L24.6671 12.7934C24.8271 11.7668 24.8938 10.8468 24.8404 10.0334C28.0271 11.7268 28.7204 14.2868 27.3338 18.4601Z"
                                stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            <path
                                d="M10.986 12.4733C12.2673 12.4733 13.306 11.4346 13.306 10.1533C13.306 8.87195 12.2673 7.83325 10.986 7.83325C9.70471 7.83325 8.66602 8.87195 8.66602 10.1533C8.66602 11.4346 9.70471 12.4733 10.986 12.4733Z"
                                stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <p>{{ diploma.diploma.module_count}} Module</p>
                    </div>
                    <div class="pf-s-time">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M29.3346 15.9998C29.3346 23.3598 23.3613 29.3332 16.0013 29.3332C8.6413 29.3332 2.66797 23.3598 2.66797 15.9998C2.66797 8.63984 8.6413 2.6665 16.0013 2.6665C23.3613 2.6665 29.3346 8.63984 29.3346 15.9998Z"
                                stroke="#333333" stroke-width="1.23837" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path
                                d="M20.9478 20.2401L16.8145 17.7734C16.0945 17.3468 15.5078 16.3201 15.5078 15.4801V10.0134"
                                stroke="#333333" stroke-width="1.23837" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                        {% load custom_filters %}
                        <p>{{ diploma.diploma.course_duration|duration_hours }}</p>
                    </div>
                    <div class="location">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M16.0018 17.9067C18.2993 17.9067 20.1618 16.0442 20.1618 13.7467C20.1618 11.4492 18.2993 9.58667 16.0018 9.58667C13.7043 9.58667 11.8418 11.4492 11.8418 13.7467C11.8418 16.0442 13.7043 17.9067 16.0018 17.9067Z"
                                stroke="#333333" stroke-width="1.23837" />
                            <path
                                d="M4.82758 11.3201C7.45425 -0.226582 24.5609 -0.213249 27.1742 11.3334C28.7076 18.1068 24.4942 23.8401 20.8009 27.3868C18.1209 29.9734 13.8809 29.9734 11.1876 27.3868C7.50758 23.8401 3.29425 18.0934 4.82758 11.3201Z"
                                stroke="#333333" stroke-width="1.23837" />
                        </svg>
                        <p>Online / Offline</p>
                    </div>
                </div>
                <div class="start-instructor">
                    <div class="calender">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.666 2.66675V6.66675" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M21.334 2.66675V6.66675" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M4.66602 12.1201H27.3327" stroke="#333333" stroke-width="1.5"
                                stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />
                            <path
                                d="M28 11.3334V22.6667C28 26.6667 26 29.3334 21.3333 29.3334H10.6667C6 29.3334 4 26.6667 4 22.6667V11.3334C4 7.33341 6 4.66675 10.6667 4.66675H21.3333C26 4.66675 28 7.33341 28 11.3334Z"
                                stroke="#333333" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M20.9269 18.2668H20.9389" stroke="#333333" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M20.9269 22.2668H20.9389" stroke="#333333" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M15.9933 18.2668H16.0053" stroke="#333333" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M15.9933 22.2668H16.0053" stroke="#333333" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M11.0597 18.2668H11.0717" stroke="#333333" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M11.0597 22.2668H11.0717" stroke="#333333" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                        <p>Start in {{diploma.diploma.start_course.date}} </p>
                    </div>
                    <div class="instructor">
                        <svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M22.666 28.5H9.33268C3.99935 28.5 2.66602 27.1667 2.66602 21.8333V11.1667C2.66602 5.83333 3.99935 4.5 9.33268 4.5H22.666C27.9993 4.5 29.3327 5.83333 29.3327 11.1667V21.8333C29.3327 27.1667 27.9993 28.5 22.666 28.5Z"
                                stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M18.666 11.1667H25.3327" stroke="#333333" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M20 16.5H25.3333" stroke="#333333" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M22.666 21.8333H25.3327" stroke="#333333" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path
                                d="M11.3333 15.5532C12.6661 15.5532 13.7466 14.4727 13.7466 13.1399C13.7466 11.807 12.6661 10.7266 11.3333 10.7266C10.0004 10.7266 8.91992 11.807 8.91992 13.1399C8.91992 14.4727 10.0004 15.5532 11.3333 15.5532Z"
                                stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            <path
                                d="M15.9993 22.2733C15.8127 20.34 14.2793 18.82 12.346 18.6467C11.6793 18.58 10.9993 18.58 10.3193 18.6467C8.38602 18.8333 6.85268 20.34 6.66602 22.2733"
                                stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <p>Instructors : {{ diplom.diploma.instructor}}</p>
                    </div>

                </div>

                <div class="review">
                    <div class="rev-title">
                        <p>Write your review about this diploma...</p>
                    </div>
                    <form method="POST" class="rev-container">
                        {% csrf_token %}
                        <textarea id="review" name="comment" placeholder="Your comment..." required></textarea>
                        <input type="hidden" name="diploma_id" value="{{ diploma.id }}">
                        <button type="submit" class="submit-review">
                            <svg width="28" height="28" viewBox="0 0 28 28" fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path d="M8.63297 7.37327L18.538 4.0716C22.983 2.58994 25.398 5.0166 23.928 9.4616L20.6263 19.3666C18.4096 26.0283 14.7696 26.0283 12.553 19.3666L11.573 16.4266L8.63297 15.4466C1.9713 13.2299 1.9713 9.6016 8.63297 7.37327Z"
                                      stroke="#292D32" stroke-width="1.5" stroke-linecap="round"
                                      stroke-linejoin="round" />
                                <path d="M11.7949 15.9249L15.9716 11.7366" stroke="#292D32" stroke-width="1.5"
                                      stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </button>
                    </form>
                </div>

                {% if comment_submitted %}
                    <div class="popup success" id="successPopup">
                        <img src="{% static 'landmark/images/sucsses.png' %}" alt="Success">
                        <h3>Your comment has been sent successfully</h3>
                        <p>Thank you for your feedback</p>
                    </div>
                {% endif %}


            </div>

            <div class="diploma-schedule">
                <div class="schedul-info">
                    <div class="schedule-title">
                        <p>Diploma Schedule</p>
                    </div>
                    <div class="cal">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.666 2.66675V6.66675" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M21.334 2.66675V6.66675" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M4.66602 12.1201H27.3327" stroke="#333333" stroke-width="1.5"
                                stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" />
                            <path
                                d="M28 11.3334V22.6667C28 26.6667 26 29.3334 21.3333 29.3334H10.6667C6 29.3334 4 26.6667 4 22.6667V11.3334C4 7.33341 6 4.66675 10.6667 4.66675H21.3333C26 4.66675 28 7.33341 28 11.3334Z"
                                stroke="#333333" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M20.9269 18.2668H20.9389" stroke="#333333" stroke-width="1.5"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M20.9269 22.2668H20.9389" stroke="#333333" stroke-width="1.5"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M15.9933 18.2668H16.0053" stroke="#333333" stroke-width="1.5"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M15.9933 22.2668H16.0053" stroke="#333333" stroke-width="1.5"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M11.0597 18.2668H11.0717" stroke="#333333" stroke-width="1.5"
                                stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M11.0597 22.2668H11.0717" stroke="#333333" stroke-width="1.5"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <p>{{ diploma.diploma.start_course}} </p>

                    </div>
                    <div class="loc">
                        <svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M16.0018 18.4067C18.2993 18.4067 20.1618 16.5442 20.1618 14.2467C20.1618 11.9492 18.2993 10.0867 16.0018 10.0867C13.7043 10.0867 11.8418 11.9492 11.8418 14.2467C11.8418 16.5442 13.7043 18.4067 16.0018 18.4067Z"
                                stroke="#333333" stroke-width="1.23837" />
                            <path
                                d="M4.82758 11.8201C7.45425 0.273418 24.5609 0.286751 27.1742 11.8334C28.7076 18.6068 24.4942 24.3401 20.8009 27.8868C18.1209 30.4734 13.8809 30.4734 11.1876 27.8868C7.50758 24.3401 3.29425 18.5934 4.82758 11.8201Z"
                                stroke="#333333" stroke-width="1.23837" />
                        </svg>
                        <p>{{ diploma.diploma.location}} </p>
                    </div>

                    <div class="record">
                        <p>Recorded Session </p>

                        <div class="recorded-session">
                            <p>{{ diploma.diploma.sission_link}}</p>
                            <button class="copy-link"><svg width="28" height="28" viewBox="0 0 28 28" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M18.6673 15.0499V19.9499C18.6673 24.0333 17.034 25.6666 12.9507 25.6666H8.05065C3.96732 25.6666 2.33398 24.0333 2.33398 19.9499V15.0499C2.33398 10.9666 3.96732 9.33325 8.05065 9.33325H12.9507C17.034 9.33325 18.6673 10.9666 18.6673 15.0499Z"
                                        stroke="#292D32" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path
                                        d="M25.6673 8.04992V12.9499C25.6673 17.0333 24.034 18.6666 19.9507 18.6666H18.6673V15.0499C18.6673 10.9666 17.034 9.33325 12.9507 9.33325H9.33398V8.04992C9.33398 3.96659 10.9673 2.33325 15.0507 2.33325H19.9507C24.034 2.33325 25.6673 3.96659 25.6673 8.04992Z"
                                        stroke="#292D32" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </button>
                        </div>
                        <div class="recorded-session">
                            <p>
                                <a href="{{ diploma.diploma.material_pdf.url}}" class="catalogue-link" style="
                                color: black;
                                text-decoration: none;
                            ">Open Material</a>
                
                            </p>
                            <!-- <button class="copy-link"><svg width="28" height="28" viewBox="0 0 28 28" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M18.6673 15.0499V19.9499C18.6673 24.0333 17.034 25.6666 12.9507 25.6666H8.05065C3.96732 25.6666 2.33398 24.0333 2.33398 19.9499V15.0499C2.33398 10.9666 3.96732 9.33325 8.05065 9.33325H12.9507C17.034 9.33325 18.6673 10.9666 18.6673 15.0499Z"
                                        stroke="#292D32" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path
                                        d="M25.6673 8.04992V12.9499C25.6673 17.0333 24.034 18.6666 19.9507 18.6666H18.6673V15.0499C18.6673 10.9666 17.034 9.33325 12.9507 9.33325H9.33398V8.04992C9.33398 3.96659 10.9673 2.33325 15.0507 2.33325H19.9507C24.034 2.33325 25.6673 3.96659 25.6673 8.04992Z"
                                        stroke="#292D32" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </button> -->
                        </div>


                    </div>

                </div>

            </div>
        </div>
        <div class="mobile-diploma-enroll">
            <h2>{{diploma.diploma.name}}</h2>
            <p>{{diploma.diploma.description}}</p>
             <div class="mobilediploma-info">
               <div class="rate-mod-hour">
                 <div class="pf-s-rate">
                   <svg width="20" height="20" viewBox="0 0 36 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path d="M17.5245 0.463525C17.6741 0.00286961 18.3259 0.00287008 18.4755 0.463525L22.378 12.4742C22.445 12.6802 22.6369 12.8197 22.8536 12.8197H35.4823C35.9667 12.8197 36.168 13.4395 35.7762 13.7242L25.5593 21.1472C25.3841 21.2745 25.3107 21.5002 25.3777 21.7062L29.2802 33.7168C29.4299 34.1775 28.9026 34.5605 28.5108 34.2758L18.2939 26.8528C18.1186 26.7255 17.8814 26.7255 17.7061 26.8528L7.48924 34.2758C7.09739 34.5605 6.57015 34.1775 6.71982 33.7168L10.6223 21.7062C10.6893 21.5002 10.6159 21.2745 10.4407 21.1472L0.22382 13.7242C-0.168037 13.4395 0.0333505 12.8197 0.517712 12.8197H13.1464C13.3631 12.8197 13.555 12.6802 13.622 12.4742L17.5245 0.463525Z" fill="#FFCC00"/>
                     </svg>
                     <p>
                        {{ diploma.diploma.average_rating|floatformat:1 }}
                        <span>({{ diploma.diploma.ratings_count }})</span>
                    </p>
                 </div>
                 <div class="modules">
                   <svg width="18" height="18" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path d="M24.8393 10.0333C24.8927 10.8466 24.826 11.7666 24.666 12.7933L23.6927 19.0466C22.866 24.2599 20.4527 26.0199 15.2393 25.2066L8.986 24.2199C7.186 23.9399 5.79934 23.4599 4.786 22.7399C2.85267 21.3933 2.29267 19.1799 2.826 15.7666L3.81267 9.51328C4.63934 4.29994 7.05267 2.53994 12.266 3.35328L18.5193 4.33994C22.706 4.99328 24.666 6.69994 24.8393 10.0333Z" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                     <path d="M27.3338 18.4601L25.3338 24.4734C23.6671 29.4868 21.0004 30.8201 15.9871 29.1534L9.97378 27.1534C6.94711 26.1534 5.26711 24.7668 4.78711 22.7401C5.80044 23.4601 7.18711 23.9401 8.98711 24.2201L15.2404 25.2068C20.4538 26.0201 22.8671 24.2601 23.6938 19.0468L24.6671 12.7934C24.8271 11.7668 24.8938 10.8468 24.8404 10.0334C28.0271 11.7268 28.7204 14.2868 27.3338 18.4601Z" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                     <path d="M10.986 12.4733C12.2673 12.4733 13.306 11.4346 13.306 10.1533C13.306 8.87195 12.2673 7.83325 10.986 7.83325C9.70471 7.83325 8.66602 8.87195 8.66602 10.1533C8.66602 11.4346 9.70471 12.4733 10.986 12.4733Z" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                     </svg>
                     <p>{{ diploma.diploma.module_count}} Module</p>
                 </div>
                 <div class="pf-s-time">
                   <svg width="18" height="18" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path d="M29.3346 15.9998C29.3346 23.3598 23.3613 29.3332 16.0013 29.3332C8.6413 29.3332 2.66797 23.3598 2.66797 15.9998C2.66797 8.63984 8.6413 2.6665 16.0013 2.6665C23.3613 2.6665 29.3346 8.63984 29.3346 15.9998Z" stroke="#333333" stroke-width="1.23837" stroke-linecap="round" stroke-linejoin="round"/>
                     <path d="M20.9478 20.2401L16.8145 17.7734C16.0945 17.3468 15.5078 16.3201 15.5078 15.4801V10.0134" stroke="#333333" stroke-width="1.23837" stroke-linecap="round" stroke-linejoin="round"/>
                     </svg>
                     {% load custom_filters %}
                        <p>{{ diploma.diploma.course_duration|duration_hours}}</p>
                 </div>
               </div>
 
               <div class="location">
                 <svg width="18" height="18" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path d="M16.0018 17.9067C18.2993 17.9067 20.1618 16.0442 20.1618 13.7467C20.1618 11.4492 18.2993 9.58667 16.0018 9.58667C13.7043 9.58667 11.8418 11.4492 11.8418 13.7467C11.8418 16.0442 13.7043 17.9067 16.0018 17.9067Z" stroke="#333333" stroke-width="1.23837"/>
                   <path d="M4.82758 11.3201C7.45425 -0.226582 24.5609 -0.213249 27.1742 11.3334C28.7076 18.1068 24.4942 23.8401 20.8009 27.3868C18.1209 29.9734 13.8809 29.9734 11.1876 27.3868C7.50758 23.8401 3.29425 18.0934 4.82758 11.3201Z" stroke="#333333" stroke-width="1.23837"/>
                   </svg>
                   <p>Online / Offline</p>
               </div>
 
               <div class="calender">
                 <svg width="18" height="18" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path d="M10.666 2.66675V6.66675" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M21.334 2.66675V6.66675" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M4.66602 12.1201H27.3327" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M28 11.3334V22.6667C28 26.6667 26 29.3334 21.3333 29.3334H10.6667C6 29.3334 4 26.6667 4 22.6667V11.3334C4 7.33341 6 4.66675 10.6667 4.66675H21.3333C26 4.66675 28 7.33341 28 11.3334Z" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M20.9269 18.2668H20.9389" stroke="#333333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M20.9269 22.2668H20.9389" stroke="#333333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M15.9933 18.2668H16.0053" stroke="#333333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M15.9933 22.2668H16.0053" stroke="#333333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M11.0597 18.2668H11.0717" stroke="#333333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M11.0597 22.2668H11.0717" stroke="#333333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                   </svg>
                   <p>Start in {{diploma.diploma.start_course.date}}</p>
               </div>
 
               <div class="instructor">
                 <svg width="18" height="18" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path d="M22.666 28.5H9.33268C3.99935 28.5 2.66602 27.1667 2.66602 21.8333V11.1667C2.66602 5.83333 3.99935 4.5 9.33268 4.5H22.666C27.9993 4.5 29.3327 5.83333 29.3327 11.1667V21.8333C29.3327 27.1667 27.9993 28.5 22.666 28.5Z" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M18.666 11.1667H25.3327" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M20 16.5H25.3333" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M22.666 21.8333H25.3327" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M11.3333 15.5532C12.6661 15.5532 13.7466 14.4727 13.7466 13.1399C13.7466 11.807 12.6661 10.7266 11.3333 10.7266C10.0004 10.7266 8.91992 11.807 8.91992 13.1399C8.91992 14.4727 10.0004 15.5532 11.3333 15.5532Z" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M15.9993 22.2733C15.8127 20.34 14.2793 18.82 12.346 18.6467C11.6793 18.58 10.9993 18.58 10.3193 18.6467C8.38602 18.8333 6.85268 20.34 6.66602 22.2733" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   </svg>
                   <p>Instructors : {{ diplom.diploma.instructor}}</p>
               </div>
             </div>
 
               <div class="schedule-title">
                 <p>Diploma Schedule</p>
               </div>
               <div class="cal">
                 <svg width="18" height="18" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path d="M10.666 2.66675V6.66675" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M21.334 2.66675V6.66675" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M4.66602 12.1201H27.3327" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M28 11.3334V22.6667C28 26.6667 26 29.3334 21.3333 29.3334H10.6667C6 29.3334 4 26.6667 4 22.6667V11.3334C4 7.33341 6 4.66675 10.6667 4.66675H21.3333C26 4.66675 28 7.33341 28 11.3334Z" stroke="#333333" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M20.9269 18.2668H20.9389" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M20.9269 22.2668H20.9389" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M15.9933 18.2668H16.0053" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M15.9933 22.2668H16.0053" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M11.0597 18.2668H11.0717" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M11.0597 22.2668H11.0717" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   </svg>
                   <p>{{ diploma.diploma.start_course}}</p>
 
               </div>
               <div class="loc">
                 <svg width="18" height="18" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path d="M16.0018 18.4067C18.2993 18.4067 20.1618 16.5442 20.1618 14.2467C20.1618 11.9492 18.2993 10.0867 16.0018 10.0867C13.7043 10.0867 11.8418 11.9492 11.8418 14.2467C11.8418 16.5442 13.7043 18.4067 16.0018 18.4067Z" stroke="#333333" stroke-width="1.23837"/>
                   <path d="M4.82758 11.8201C7.45425 0.273418 24.5609 0.286751 27.1742 11.8334C28.7076 18.6068 24.4942 24.3401 20.8009 27.8868C18.1209 30.4734 13.8809 30.4734 11.1876 27.8868C7.50758 24.3401 3.29425 18.5934 4.82758 11.8201Z" stroke="#333333" stroke-width="1.23837"/>
                   </svg>
                   <p>{{ diploma.diploma.location}}</p>
               </div>
 
               <div class="record">
                 <p>Recorded Session </p>
 
                 <div class="recorded-session">
                    <p>{{ diploma.diploma.link}}</p>
                    <button class="copy-link"><svg width="28" height="28" viewBox="0 0 28 28" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M18.6673 15.0499V19.9499C18.6673 24.0333 17.034 25.6666 12.9507 25.6666H8.05065C3.96732 25.6666 2.33398 24.0333 2.33398 19.9499V15.0499C2.33398 10.9666 3.96732 9.33325 8.05065 9.33325H12.9507C17.034 9.33325 18.6673 10.9666 18.6673 15.0499Z"
                                stroke="#292D32" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path
                                d="M25.6673 8.04992V12.9499C25.6673 17.0333 24.034 18.6666 19.9507 18.6666H18.6673V15.0499C18.6673 10.9666 17.034 9.33325 12.9507 9.33325H9.33398V8.04992C9.33398 3.96659 10.9673 2.33325 15.0507 2.33325H19.9507C24.034 2.33325 25.6673 3.96659 25.6673 8.04992Z"
                                stroke="#292D32" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>
                 </div>
                 <div class="recorded-session">
                    <p>
                        <a href="{{ diploma.diploma.material_pdf.url}}" class="catalogue-link" style="
                        color: black;
                        text-decoration: none;
                    ">Open Material</a>
        
                    </p>
                  </div>
               </div>
       
 
               </div>
 
               <!-- <div class="rev-title">
                 <p>Write your review about this diploma....</p>
               </div>
               <div class="rev-container">
                 <textarea id="review" placeholder="Your comment..."></textarea>
                 <button class="submit-review"><svg width="20.33" height="18px" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                   <path d="M8.63297 7.37327L18.538 4.0716C22.983 2.58994 25.398 5.0166 23.928 9.4616L20.6263 19.3666C18.4096 26.0283 14.7696 26.0283 12.553 19.3666L11.573 16.4266L8.63297 15.4466C1.9713 13.2299 1.9713 9.6016 8.63297 7.37327Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   <path d="M11.7949 15.9249L15.9716 11.7366" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                   </svg>
                   </button>
               </div> -->
               
 
         </div>
        {% endfor %}

        {% else %}
        <p>No diplomas selected.</p>
        {% endif %}
    </div>

    <div id="wishlist" class="tab-content">
        <div class="cont">
            <div class="diploma-cards">
                {% for diploma in wishlist_diplomas %}

                <div class="card1">
                    <div class="date">
                      <p>{{diploma.start_course.date}}</p>
                      <form method="post">
                        {% csrf_token %}
                        <input type="hidden" name="diploma_id" value="{{ diploma.id }}">
            
                        {% if user.is_authenticated %}
                            {% if diploma in user.userprofile.wishlist.all %}
                                <!-- If the diploma is in the wishlist, show remove button -->
                                <button type="submit" name="action" value="remove" class="saved" onclick="toggleSave(this)">
                                    <svg id="save-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" width="30" height="30">
                                        <path class="outline" d="M20.5 2.5h-17c-.827 0-1.5.673-1.5 1.5v18l10-6 10 6v-18c0-.827-.673-1.5-1.5-1.5zm-1.5 17.344l-8.5-5.1-8.5 5.1v-15.344h17v15.344z" fill="#D3D3D3"/>
                                        <path class="filled" d="M3 2.5h18c.827 0 1.5.673 1.5 1.5v18l-10-6-10 6v-18c0-.827.673-1.5 1.5-1.5z" fill="darkblue" style="display: block;"/>
                                    </svg>
                                </button>
                            {% else %}
                                <!-- If the diploma is not in the wishlist, show add button -->
                                <button type="submit" name="action" value="add" class="saved" onclick="toggleSave(this)">
                                    <svg id="save-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" width="30" height="30">
                                        <path class="outline" d="M20.5 2.5h-17c-.827 0-1.5.673-1.5 1.5v18l10-6 10 6v-18c0-.827-.673-1.5-1.5-1.5zm-1.5 17.344l-8.5-5.1-8.5 5.1v-15.344h17v15.344z" fill="#D3D3D3"/>
                                        <path class="filled" d="M3 2.5h18c.827 0 1.5.673 1.5 1.5v18l-10-6-10 6v-18c0-.827.673-1.5 1.5-1.5z" fill="#A9A9A9" style="display: none;"/>
                                    </svg>
                                </button>
                            {% endif %}
                        {% endif %}
                    </form>
                     </div>
          
                     <div class="name-img">
                      <p>{{ diploma.name}}</p>
                      <img src="{{diploma.image.url}}" alt="diploma">
                  </div>
          
                  <div class="module-info">
                    <div class="no-modules">
                       <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                           <path d="M19.13 7.78955C19.17 8.39955 19.12 9.08955 19 9.85955L18.27 14.5495C17.65 18.4595 15.84 19.7795 11.93 19.1695L7.23999 18.4295C5.88999 18.2195 4.84999 17.8595 4.08999 17.3195C2.63999 16.3095 2.21999 14.6495 2.61999 12.0895L3.35999 7.39955C3.97999 3.48955 5.78999 2.16955 9.69999 2.77955L14.39 3.51955C17.53 4.00955 19 5.28955 19.13 7.78955Z" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                           <path d="M20.9998 14.1096L19.4998 18.6196C18.2498 22.3796 16.2498 23.3796 12.4898 22.1296L7.97984 20.6296C5.70984 19.8796 4.44984 18.8396 4.08984 17.3196C4.84984 17.8596 5.88984 18.2196 7.23984 18.4296L11.9298 19.1696C15.8398 19.7796 17.6498 18.4596 18.2698 14.5496L18.9998 9.85955C19.1198 9.08955 19.1698 8.39955 19.1298 7.78955C21.5198 9.05955 22.0398 10.9796 20.9998 14.1096Z" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                           <path d="M8.74 9.61953C9.70098 9.61953 10.48 8.8405 10.48 7.87953C10.48 6.91855 9.70098 6.13953 8.74 6.13953C7.77902 6.13953 7 6.91855 7 7.87953C7 8.8405 7.77902 9.61953 8.74 9.61953Z" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                           </svg>
                           <p>{{ diploma.module_count}} Modules</p>
                    </div>
                    <div class="duration">
                       <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                           <path d="M22.5 12.6395C22.5 18.1595 18.02 22.6395 12.5 22.6395C6.98 22.6395 2.5 18.1595 2.5 12.6395C2.5 7.11946 6.98 2.63947 12.5 2.63947C18.02 2.63947 22.5 7.11946 22.5 12.6395Z" stroke="#333333" stroke-width="1.23837" stroke-linecap="round" stroke-linejoin="round"/>
                           <path d="M16.2099 15.8196L13.1099 13.9696C12.5699 13.6496 12.1299 12.8796 12.1299 12.2496V8.1496" stroke="#333333" stroke-width="1.23837" stroke-linecap="round" stroke-linejoin="round"/>
                           </svg>
                           {% load custom_filters %}
                       <p>{{ diploma.course_duration|duration_hours }}</p>
                    </div>
                    <div class="oonline">
                       <svg width="136" height="25" viewBox="0 0 136 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                           <path d="M12.4999 14.0695C14.223 14.0695 15.6199 12.6727 15.6199 10.9495C15.6199 9.2264 14.223 7.82953 12.4999 7.82953C10.7768 7.82953 9.37988 9.2264 9.37988 10.9495C9.37988 12.6727 10.7768 14.0695 12.4999 14.0695Z" stroke="#333333" stroke-width="1.23837"/>
                           <path d="M4.1202 9.12947C6.0902 0.469468 18.9202 0.479468 20.8802 9.13947C22.0302 14.2195 18.8702 18.5195 16.1002 21.1795C14.0902 23.1195 10.9102 23.1195 8.8902 21.1795C6.1302 18.5195 2.9702 14.2095 4.1202 9.12947Z" stroke="#333333" stroke-width="1.23837"/>
                           <path d="M38.002 17.2375C37.0967 17.2375 36.2707 17.0275 35.524 16.6075C34.7773 16.1782 34.1847 15.5855 33.746 14.8295C33.3167 14.0642 33.102 13.2055 33.102 12.2535C33.102 11.3015 33.3167 10.4475 33.746 9.69153C34.1847 8.92619 34.7773 8.33353 35.524 7.91353C36.2707 7.48419 37.0967 7.26953 38.002 7.26953C38.9167 7.26953 39.7473 7.48419 40.494 7.91353C41.2407 8.33353 41.8287 8.92153 42.258 9.67753C42.6873 10.4335 42.902 11.2922 42.902 12.2535C42.902 13.2149 42.6873 14.0735 42.258 14.8295C41.8287 15.5855 41.2407 16.1782 40.494 16.6075C39.7473 17.0275 38.9167 17.2375 38.002 17.2375ZM38.002 16.1315C38.6833 16.1315 39.2947 15.9729 39.836 15.6555C40.3867 15.3382 40.816 14.8855 41.124 14.2975C41.4413 13.7095 41.6 13.0282 41.6 12.2535C41.6 11.4695 41.4413 10.7882 41.124 10.2095C40.816 9.62153 40.3913 9.16886 39.85 8.85153C39.3087 8.53419 38.6927 8.37553 38.002 8.37553C37.3113 8.37553 36.6953 8.53419 36.154 8.85153C35.6127 9.16886 35.1833 9.62153 34.866 10.2095C34.558 10.7882 34.404 11.4695 34.404 12.2535C34.404 13.0282 34.558 13.7095 34.866 14.2975C35.1833 14.8855 35.6127 15.3382 36.154 15.6555C36.7047 15.9729 37.3207 16.1315 38.002 16.1315ZM48.3219 9.32753C49.2552 9.32753 50.0112 9.61219 50.5899 10.1815C51.1685 10.7415 51.4579 11.5535 51.4579 12.6175V17.1395H50.1979V12.7995C50.1979 12.0342 50.0065 11.4509 49.6239 11.0495C49.2412 10.6389 48.7185 10.4335 48.0559 10.4335C47.3839 10.4335 46.8472 10.6435 46.4459 11.0635C46.0539 11.4835 45.8579 12.0949 45.8579 12.8975V17.1395H44.5839V9.46753H45.8579V10.5595C46.1099 10.1675 46.4505 9.86419 46.8799 9.64953C47.3185 9.43486 47.7992 9.32753 48.3219 9.32753ZM54.8129 6.77953V17.1395H53.5389V6.77953H54.8129ZM57.6423 8.22153C57.3996 8.22153 57.1943 8.13753 57.0263 7.96953C56.8583 7.80153 56.7743 7.59619 56.7743 7.35353C56.7743 7.11086 56.8583 6.90553 57.0263 6.73753C57.1943 6.56953 57.3996 6.48553 57.6423 6.48553C57.8756 6.48553 58.0716 6.56953 58.2303 6.73753C58.3983 6.90553 58.4823 7.11086 58.4823 7.35353C58.4823 7.59619 58.3983 7.80153 58.2303 7.96953C58.0716 8.13753 57.8756 8.22153 57.6423 8.22153ZM58.2583 9.46753V17.1395H56.9843V9.46753H58.2583ZM64.1676 9.32753C65.1009 9.32753 65.8569 9.61219 66.4356 10.1815C67.0142 10.7415 67.3036 11.5535 67.3036 12.6175V17.1395H66.0436V12.7995C66.0436 12.0342 65.8522 11.4509 65.4696 11.0495C65.0869 10.6389 64.5642 10.4335 63.9016 10.4335C63.2296 10.4335 62.6929 10.6435 62.2916 11.0635C61.8996 11.4835 61.7036 12.0949 61.7036 12.8975V17.1395H60.4296V9.46753H61.7036V10.5595C61.9556 10.1675 62.2962 9.86419 62.7256 9.64953C63.1642 9.43486 63.6449 9.32753 64.1676 9.32753ZM76.3846 13.0095C76.3846 13.2522 76.3706 13.5089 76.3426 13.7795H70.2106C70.2573 14.5355 70.514 15.1282 70.9806 15.5575C71.4566 15.9775 72.0306 16.1875 72.7026 16.1875C73.2533 16.1875 73.7106 16.0615 74.0746 15.8095C74.448 15.5482 74.7093 15.2029 74.8586 14.7735H76.2306C76.0253 15.5109 75.6146 16.1129 74.9986 16.5795C74.3826 17.0369 73.6173 17.2655 72.7026 17.2655C71.9746 17.2655 71.3213 17.1022 70.7426 16.7755C70.1733 16.4489 69.7253 15.9869 69.3986 15.3895C69.072 14.7829 68.9086 14.0829 68.9086 13.2895C68.9086 12.4962 69.0673 11.8009 69.3846 11.2035C69.702 10.6062 70.1453 10.1489 70.7146 9.83153C71.2933 9.50486 71.956 9.34153 72.7026 9.34153C73.4306 9.34153 74.0746 9.50019 74.6346 9.81753C75.1946 10.1349 75.624 10.5735 75.9226 11.1335C76.2306 11.6842 76.3846 12.3095 76.3846 13.0095ZM75.0686 12.7435C75.0686 12.2582 74.9613 11.8429 74.7466 11.4975C74.532 11.1429 74.238 10.8769 73.8646 10.6995C73.5006 10.5129 73.0946 10.4195 72.6466 10.4195C72.0026 10.4195 71.452 10.6249 70.9946 11.0355C70.5466 11.4462 70.29 12.0155 70.2246 12.7435H75.0686ZM86.5587 3.95153L82.7227 19.5195H81.4627L85.2847 3.95153H86.5587ZM96.6133 17.2375C95.708 17.2375 94.882 17.0275 94.1353 16.6075C93.3887 16.1782 92.796 15.5855 92.3573 14.8295C91.928 14.0642 91.7133 13.2055 91.7133 12.2535C91.7133 11.3015 91.928 10.4475 92.3573 9.69153C92.796 8.92619 93.3887 8.33353 94.1353 7.91353C94.882 7.48419 95.708 7.26953 96.6133 7.26953C97.528 7.26953 98.3587 7.48419 99.1053 7.91353C99.852 8.33353 100.44 8.92153 100.869 9.67753C101.299 10.4335 101.513 11.2922 101.513 12.2535C101.513 13.2149 101.299 14.0735 100.869 14.8295C100.44 15.5855 99.852 16.1782 99.1053 16.6075C98.3587 17.0275 97.528 17.2375 96.6133 17.2375ZM96.6133 16.1315C97.2947 16.1315 97.906 15.9729 98.4473 15.6555C98.998 15.3382 99.4273 14.8855 99.7353 14.2975C100.053 13.7095 100.211 13.0282 100.211 12.2535C100.211 11.4695 100.053 10.7882 99.7353 10.2095C99.4273 9.62153 99.0027 9.16886 98.4613 8.85153C97.92 8.53419 97.304 8.37553 96.6133 8.37553C95.9227 8.37553 95.3067 8.53419 94.7653 8.85153C94.224 9.16886 93.7947 9.62153 93.4773 10.2095C93.1693 10.7882 93.0153 11.4695 93.0153 12.2535C93.0153 13.0282 93.1693 13.7095 93.4773 14.2975C93.7947 14.8855 94.224 15.3382 94.7653 15.6555C95.316 15.9729 95.932 16.1315 96.6133 16.1315ZM106.317 10.5175H104.707V17.1395H103.433V10.5175H102.439V9.46753H103.433V8.92153C103.433 8.06286 103.653 7.43753 104.091 7.04553C104.539 6.64419 105.253 6.44353 106.233 6.44353V7.50753C105.673 7.50753 105.277 7.61953 105.043 7.84353C104.819 8.05819 104.707 8.41753 104.707 8.92153V9.46753H106.317V10.5175ZM110.925 10.5175H109.315V17.1395H108.041V10.5175H107.047V9.46753H108.041V8.92153C108.041 8.06286 108.26 7.43753 108.699 7.04553C109.147 6.64419 109.861 6.44353 110.841 6.44353V7.50753C110.281 7.50753 109.884 7.61953 109.651 7.84353C109.427 8.05819 109.315 8.41753 109.315 8.92153V9.46753H110.925V10.5175ZM113.684 6.77953V17.1395H112.41V6.77953H113.684ZM116.513 8.22153C116.271 8.22153 116.065 8.13753 115.897 7.96953C115.729 7.80153 115.645 7.59619 115.645 7.35353C115.645 7.11086 115.729 6.90553 115.897 6.73753C116.065 6.56953 116.271 6.48553 116.513 6.48553C116.747 6.48553 116.943 6.56953 117.101 6.73753C117.269 6.90553 117.353 7.11086 117.353 7.35353C117.353 7.59619 117.269 7.80153 117.101 7.96953C116.943 8.13753 116.747 8.22153 116.513 8.22153ZM117.129 9.46753V17.1395H115.855V9.46753H117.129ZM123.039 9.32753C123.972 9.32753 124.728 9.61219 125.307 10.1815C125.885 10.7415 126.175 11.5535 126.175 12.6175V17.1395H124.915V12.7995C124.915 12.0342 124.723 11.4509 124.341 11.0495C123.958 10.6389 123.435 10.4335 122.773 10.4335C122.101 10.4335 121.564 10.6435 121.163 11.0635C120.771 11.4835 120.575 12.0949 120.575 12.8975V17.1395H119.301V9.46753H120.575V10.5595C120.827 10.1675 121.167 9.86419 121.597 9.64953C122.035 9.43486 122.516 9.32753 123.039 9.32753ZM135.256 13.0095C135.256 13.2522 135.242 13.5089 135.214 13.7795H129.082C129.128 14.5355 129.385 15.1282 129.852 15.5575C130.328 15.9775 130.902 16.1875 131.574 16.1875C132.124 16.1875 132.582 16.0615 132.946 15.8095C133.319 15.5482 133.58 15.2029 133.73 14.7735H135.102C134.896 15.5109 134.486 16.1129 133.87 16.5795C133.254 17.0369 132.488 17.2655 131.574 17.2655C130.846 17.2655 130.192 17.1022 129.614 16.7755C129.044 16.4489 128.596 15.9869 128.27 15.3895C127.943 14.7829 127.78 14.0829 127.78 13.2895C127.78 12.4962 127.938 11.8009 128.256 11.2035C128.573 10.6062 129.016 10.1489 129.586 9.83153C130.164 9.50486 130.827 9.34153 131.574 9.34153C132.302 9.34153 132.946 9.50019 133.506 9.81753C134.066 10.1349 134.495 10.5735 134.794 11.1335C135.102 11.6842 135.256 12.3095 135.256 13.0095ZM133.94 12.7435C133.94 12.2582 133.832 11.8429 133.618 11.4975C133.403 11.1429 133.109 10.8769 132.736 10.6995C132.372 10.5129 131.966 10.4195 131.518 10.4195C130.874 10.4195 130.323 10.6249 129.866 11.0355C129.418 11.4462 129.161 12.0155 129.096 12.7435H133.94Z" fill="#333333"/>
                           </svg> 
                    </div>  
               </div>
                  </div>
                {% empty %}
                    <p style="font-size: 22px;margin-left: px;">You have no diplomas in your wishlist.</p>
                {% endfor %}
            </div>
        </div>
    </div>

</div>

<script>

    document.getElementById('profile-image-input').addEventListener('change', function(event) {
        const file = event.target.files[0];
        const maxSize = 4 * 1024 * 1024; 
        
        if (file && file.size > maxSize) {
            alert('The selected image exceeds the maximum size of 4MB. Please choose a smaller image.');
            event.target.value = ''; // Reset the input
        }
    });

    function uploadProfilePicture(event) {
        const fileInput = event.target;
        const formData = new FormData();
        formData.append('image', fileInput.files[0]);

        // Send the form data to the server using AJAX
        fetch('{% url "update_profile_picture" %}', {
            method: 'POST',
            body: formData,
            headers: {
                'X-CSRFToken': '{{ csrf_token }}',
            },
        })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Update the profile image on the page
                    document.querySelector('.avatar').src = data.new_image_url;
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
    }

    function togglePassword() {
        const passwordInput = document.getElementById('password-input');
        const type = passwordInput.type === 'password' ? 'text' : 'password';
        passwordInput.type = type;
    }

    // Tab switching logic
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', () => {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));

            tab.classList.add('active');
            document.getElementById(tab.getAttribute('data-tab')).classList.add('active');
        });
    });

    document.querySelector('.copy-link').addEventListener('click', () => {
        const link = document.querySelector('.recorded-session p').innerText;
        navigator.clipboard.writeText(link).then(() => {
            alert('Recorded session link copied to clipboard!');
        });
    });

    // document.querySelector('.submit-review').addEventListener('click', () => {
    //     const review = document.getElementById('review').value.trim();
    //     if (review) {
    //         alert('Thank you for your review!');
    //     } else {
    //         alert('Please write a comment before submitting.');
    //     }
    // });

    function submitReview(diplomaId) {
        const comment = document.getElementById('review').value;

        if (!comment.trim()) {
            alert('Please write a comment before submitting.');
            return;
        }

        // Send the comment via AJAX
        fetch("{% url 'profile' %}", {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': '{{ csrf_token }}'  // Ensure CSRF token is included
            },
            body: JSON.stringify({
                diploma_id: diplomaId,
                comment: comment,
            })
        })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    alert('Your review has been submitted successfully.');
                    document.getElementById('review').value = ''; // Clear the textarea
                } else {
                    alert(data.message);  // Show error message
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred while submitting your review.');
            });
    }

    document.addEventListener("DOMContentLoaded", function () {
        // Check if the popup exists
        const successPopup = document.getElementById('successPopup');
        if (successPopup) {
            // Show the popup
            successPopup.style.display = 'block';

            // Automatically hide the popup after 3 seconds
            setTimeout(() => {
                successPopup.style.display = 'none';
            }, 3000);
        }
    });

    
    function toggleSave(button) {
    const outlinePath = button.querySelector(".outline");
    const filledPath = button.querySelector(".filled");

    // Toggle visibility of the paths and update the fill color
    if (filledPath.style.display === "none") {
        outlinePath.style.display = "none";
        filledPath.style.display = "block";
        filledPath.setAttribute("fill", "darkblue"); // Change saved icon color
    } else {
        outlinePath.style.display = "block";
        filledPath.style.display = "none";
        outlinePath.setAttribute("fill", "darkblue"); // Revert to default color
    }
}




</script>

{% endblock %}
